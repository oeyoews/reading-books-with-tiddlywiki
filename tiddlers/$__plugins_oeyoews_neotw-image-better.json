{"tiddlers":{"$:/plugins/oeyoews/neotw-image-better/readme":{"title":"$:/plugins/oeyoews/neotw-image-better/readme","description":"neotw-image-better"},"$:/plugins/oeyoews/neotw-image-better/style.css":{"title":"$:/plugins/oeyoews/neotw-image-better/style.css","text":".tc-image-loading {\n  filter: blur(12px);\n  scale: 1.05;\n  cursor: wait;\n}\n.tc-image-error {\n  filter: blur(4px);\n}\n.tc-image-loaded {\n  border-radius: 8px;\n}\n","tags":"$:/tags/Stylesheet"},"$:/plugins/oeyoews/neotw-image-better/widget.js":{"title":"$:/plugins/oeyoews/neotw-image-better/widget.js","text":"/*\\\ntitle: $:/plugins/oeyoews/neotw-image-better/widget.js\ntype: application/javascript\nmodule-type: widget\n\nom-img widget\n\\*/\n(function () {\n  /*jslint node: true, browser: true */\n  /*global $tw: false */\n  'use strict';\n\n  const Widget = require('$:/core/modules/widgets/widget.js').widget;\n\n  class ImageWidget extends Widget {\n    constructor(parseTreeNode, options) {\n      super(parseTreeNode, options);\n    }\n\n    render(parent, nextSibling) {\n      if (!$tw.browser) return;\n\n      this.parentDomNode = parent;\n      this.computeAttributes();\n      this.execute();\n\n      const keyword = this.getAttribute('keyword', 'sea');\n      const resolution = this.getAttribute('resolution', '1920x1080');\n      const src = `https://source.unsplash.com/random/${resolution}/?${keyword}`;\n      const img = new Image();\n\n      const classNames = this.getAttribute('class', '');\n\n      const dynamicClasses = [\n        'blur',\n        'w-64',\n        'h-full',\n        'rounded',\n        'scale-105',\n        'transition-all',\n        'durtaion-400',\n        'bg-black/10',\n      ];\n\n      img.classList.add('bg-cover', 'aspect-video', ...dynamicClasses);\n      img.src = src;\n      classNames && img.classList.add(...classNames.split(' '));\n      img.onload = () => {\n        img.classList.remove(...dynamicClasses);\n      };\n\n      parent.insertBefore(img, nextSibling);\n      this.domNodes.push(img);\n    }\n  }\n\n  /**\n   * unsplash keyword image\n   * @description 使用unsplash的图片组件\n   * @param {string} keyword\n   * @param {string} class\n   */\n  exports['ukimg'] = ImageWidget;\n})();\n","type":"application/javascript","module-type":"widget"}}}