{"tiddlers":{"$:/plugins/oeyoews/neotw-info/readme":{"title":"$:/plugins/oeyoews/neotw-info/readme","description":"neotw-info"},"$:/plugins/oeyoews/neotw-info/info.js":{"title":"$:/plugins/oeyoews/neotw-info/info.js","text":"/*\\\ntitle: $:/plugins/oeyoews/neotw-info/info.js\ntype: application/javascript\nmodule-type: library\n\n\\*/\n\nmodule.exports = function createContainer() {\n  const createElement = $tw.utils.domMaker;\n  const wiki = $tw.wiki;\n\n  function createImg(msg, text, logo = '') {\n    return createElement('img', {\n      class: 'rounded-none',\n      attributes: {\n        src: logo\n          ? `https://img.shields.io/badge/${msg}-${text}-green?style=social&logo=${logo}`\n          : `https://img.shields.io/badge/${msg}-${text}-green?style=social`,\n      },\n    });\n  }\n\n  const updateTime = wiki.filterTiddlers(\n    '[!is[system]!prefix[$:/]!has[draft.of]!sort[modified]limit[1]get[modified]format:relativedate[]]',\n  );\n  const pluginsCount = wiki.filterTiddlers('[plugin-type[plugin]]').length;\n  const tagsCount = wiki.filterTiddlers('[tags[]]').length;\n  const tiddlersCount = wiki.filterTiddlers('[!is[system]]').length;\n  const version = $tw.version.replace(/-/g, ' ');\n\n  const list = [\n    { msg: 'Version', text: version, logo: 'tiddlywiki' },\n    { msg: '✏️ Update', text: updateTime },\n    { msg: '🧩 Plugins', text: pluginsCount },\n    { msg: '🏷️ Tags', text: tagsCount },\n    { msg: '🐟 Tiddlers', text: tiddlersCount }, //  🐸\n  ];\n\n  let children = [];\n  list.forEach(({ msg, text, logo }) => {\n    children.push(createImg(msg, text, logo));\n  });\n\n  const container = createElement('div', {\n    class: 'space-x-2',\n    children,\n  });\n  return container;\n};\n","type":"application/javascript","module-type":"library"},"$:/plugins/oeyoews/neotw-info/widget.js":{"title":"$:/plugins/oeyoews/neotw-info/widget.js","text":"/*\\\ntitle: $:/plugins/oeyoews/neotw-info/widget.js\ntype: application/javascript\nmodule-type: widget\n\nneotw-info widget\n\n\\*/\n(function () {\n  /*jslint node: true, browser: true */\n  /*global $tw: false */\n  'use strict';\n\n  const { widget: Widget } = require('$:/core/modules/widgets/widget.js');\n  const createContainer = require('./info');\n\n  class InfoWidget extends Widget {\n    constructor(parseTreeNode, options) {\n      super(parseTreeNode, options);\n    }\n\n    render(parent, nextSibling) {\n      this.parentDomNode = parent;\n      this.computeAttributes();\n      this.execute();\n\n      const domNode = createContainer();\n\n      parent.insertBefore(domNode, nextSibling);\n      this.domNodes.push(domNode);\n    }\n  }\n\n  /**\n   * @description neotw-info widget\n   */\n  exports.oinfo = InfoWidget;\n})();\n","type":"application/javascript","module-type":"widget"}}}